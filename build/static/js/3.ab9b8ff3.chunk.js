(this["webpackJsonpbuki-front-test-task"]=this["webpackJsonpbuki-front-test-task"]||[]).push([[3],{34:function(e,t,c){e.exports={section:"ChatList_section__2mjkI",list:"ChatList_list__RefVf",item:"ChatList_item__ATHLg",itemCurrent:"ChatList_itemCurrent__2Tb9W",image:"ChatList_image__13WuL",textContent:"ChatList_textContent__26Bs6",name:"ChatList_name__1Y5Zf",message:"ChatList_message__2fEpX",time:"ChatList_time__BlTvr",heart:"ChatList_heart__3qn8J",delete:"ChatList_delete__2zRyl"}},37:function(e){e.exports=JSON.parse('[{"id":"9333000183101","user":"Kate","avatar":"https://i.pravatar.cc/300?img=5","created_at":"2021-05-17 23:30:11","message":"Hey, guys! Have you seen the new episode of \'Black Mirror\'?"},{"id":"9333000183102","user":"Dave","avatar":"https://i.pravatar.cc/300?img=14","created_at":"2021-05-17 23:54:45","message":"Nay, not yet:-("},{"id":"9333000183103","user":"Taylor","avatar":"https://i.pravatar.cc/300?img=12","created_at":"2021-05-18 10:23:00","message":"I have! Let\u2019s discuss it)"},{"id":"9333000183104","user":"Dave","avatar":"https://i.pravatar.cc/300?img=14","created_at":"2021-05-18 10:24:32","message":"No spoilers!!! I will watch it asap."},{"id":"9333000183105","user":"Kim","avatar":"https://i.pravatar.cc/300?img=31","created_at":"2021-05-18 10:29:03","message":"Oh, Dave! But please, hurry up!"},{"id":"9333000183106","user":"Dave","avatar":"https://i.pravatar.cc/300?img=14","created_at":"2021-05-18 10:34:47","message":"I have to finish my work  and afterwards I will watch it."},{"id":"9333000183107","user":"Kate","avatar":"https://i.pravatar.cc/300?img=5","created_at":"2021-05-18 10:35:19","message":"Oh\u2026 I\'ll go see \u2018The Boys\u2019 while Dave is busy."},{"id":"9333000183108","user":"Dave","avatar":"https://i.pravatar.cc/300?img=14","created_at":"2021-05-18 10:35:57","message":"OK :)"}]')},38:function(e,t,c){e.exports={container:"Container_container__129wS"}},39:function(e,t,c){e.exports={header:"Header_header__2edpP",headerLeft:"Header_headerLeft__3AGFX",title:"Header_title__ZJgqh",messagesInfo:"Header_messagesInfo__1W-A-",timeLastMessage:"Header_timeLastMessage__3SYkB"}},43:function(e,t,c){e.exports={section:"MessageInput_section__3Z5CB",form:"MessageInput_form__sCFcj",input:"MessageInput_input__3kRLL",button:"MessageInput_button__3D5Z1"}},44:function(e,t,c){e.exports={section:"Footer_section__3DyNH",list:"Footer_list__2wacP",item:"Footer_item__fPOD-",copyright:"Footer_copyright__2Tfql"}},46:function(e,t,c){"use strict";c.r(t);var a={};c.r(a),c.d(a,"getMessages",(function(){return m})),c.d(a,"addMessage",(function(){return g})),c.d(a,"changeMessage",(function(){return f})),c.d(a,"deleteMessage",(function(){return O}));var s={};c.r(s),c.d(s,"getMessages",(function(){return v})),c.d(s,"isLoading",(function(){return x}));var n={};c.r(n),c.d(n,"currentUser",(function(){return I}));var r={};c.r(r),c.d(r,"getUser",(function(){return H}));var i=c(33),u=c(0),j=c(13),o=c(47),l=c(35),d=c.n(l),h=c(5),b=c(37),m=function(){return function(e){e(Object(h.k)()),new Promise((function(t,c){t(e(Object(h.l)(b)))})).then((function(e){return e})).catch((function(t){return e(Object(h.j)(t))}))}},g=function(e){var t=e.message,c=e.user;return function(e){var a={id:Object(o.a)(),user:c,avatar:"https://i.pravatar.cc/300?img=12",created_at:d()().format("YYYY-DD-MM h:mm:ss"),message:t};e(Object(h.b)()),new Promise((function(t,c){t(e(Object(h.c)(a)))})).then((function(e){return e})).catch((function(t){return e(Object(h.a)(t))}))}},f=function(e){return function(t){t(Object(h.e)()),new Promise((function(c,a){c(t(Object(h.f)(e)))})).then((function(e){return e})).catch((function(e){return t(Object(h.d)(e))}))}},O=function(e){return function(t){t(Object(h.h)()),new Promise((function(c,a){c(t(Object(h.i)(e)))})).then((function(e){return e})).catch((function(e){return t(Object(h.g)(e))}))}},v=function(e){return e.chat.messages},x=function(e){return e.chat.loading},_=c(38),p=c.n(_),C=c(4),N=function(e){var t=e.children;return Object(C.jsx)("div",{className:p.a.container,children:t})},w=c(39),L=c.n(w),M=function(){var e=Object(j.c)(s.getMessages),t=Object(u.useState)([]),c=Object(i.a)(t,2),a=c[0],n=c[1],r=Object(u.useState)([]),o=Object(i.a)(r,2),l=o[0],d=o[1];return Object(u.useEffect)((function(){var t;d(null===(t=e[e.length-1])||void 0===t?void 0:t.created_at)}),[e]),Object(u.useEffect)((function(){var t=[];e.forEach((function(e){var c=e.user;t.includes(c)||t.push(c)})),n(t)}),[e,n]),Object(C.jsx)("div",{className:L.a.header,children:Object(C.jsxs)(N,{children:[Object(C.jsxs)("div",{className:L.a.headerLeft,children:[Object(C.jsx)("h1",{className:L.a.title,children:"My Chat"}),Object(C.jsxs)("p",{className:L.a.messagesInfo,children:[a.length," users ",e.length," messages"]})]}),Object(C.jsx)("div",{className:L.a.headerRight,children:Object(C.jsxs)("p",{className:L.a.timeLastMessage,children:["Last message: ",l]})})]})})},y=c(40),k=c.n(y),S=c(42),D=c(12),I=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(c){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(Object(D.a)(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return e.user},B=function(e){var t=e.className,c=void 0===t?null:t,a=e.height,s=void 0===a?"24px":a,n=e.width,r=void 0===n?"28px":n,j="#8CC054",o=Object(u.useState)(!1),l=Object(i.a)(o,2),d=l[0],h=l[1];return Object(C.jsx)("div",{className:c,children:Object(C.jsx)("svg",{onClick:function(){h(!d)},version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:s,width:r,children:Object(C.jsxs)("g",{children:[Object(C.jsx)("path",{id:"v",fill:d?j:"transparent",d:"M491.9,141.7c-1.8-2.1-3.4-4.3-4.8-6.7c-8.9-14.1-17.8-28.2-27.6-41.7c-4.3-5.2-8.7-10.2-13.4-15\r c-7.6-4.2-15.2-8.3-22.9-12.3C412.4,60.5,401.6,55,391,49.3c-0.3-0.1-0.7-0.1-1-0.2c-15.8-1.4-31.7-1-47.5,0.7\r c-5.8,0.9-11.6,2-17.3,3.3c-6.7,6.6-14.1,11.9-22.2,16c-1.2,1.5-2.4,2.9-3.7,4.2c-4.3,4.3-9.4,7.8-15,10.5\r c-9.2,6.2-20.5,9.8-31.3,9.8c-13.3,0-25.2-4.9-35.3-12.9c-10.5-2.6-20.6-6.7-30.3-12.4c-7.8-4.9-15.8-9.4-24.1-13.5\r c-10-3.5-20.2-6.4-30.6-8.6c-5.8-0.3-11.6-0.4-17.3-0.2c-7.6,1.8-15,4.1-22.3,6.7c-7.3,3.6-14.5,7.7-21.4,12.1\r c-10.1,9.3-19.5,19.5-29.3,29.1c-4.8,4.7-9.5,9.4-14.2,14.2c-1.1,15.4-3.5,30.7-5.7,46c-1.5,12.6-2.3,25.3-1.3,38\r c2.8,16,7.3,31.6,13.2,46.7c8,17.5,17.6,34.1,29,49.7c9.3,11.5,19.3,22.5,29.7,33c22.4,22.5,46.7,43.1,70.3,64.3\r c12.4,11.1,24.8,22.3,36.2,34.3c7.9,8.3,15.5,17,24.1,24.7c2.1,1.3,4.1,2.5,6.3,3.7c5,1.6,10,2.9,15.1,3.9\r c10.6,0.9,21.3,1.1,31.9,1.4c0.5,0,1.1,0,1.6,0.1c1.4-1.6,2.8-3.2,4.2-4.9c10.1-11.4,25.1-21.3,36.4-29.9\r c6.1-4.6,12.5-8.9,18.8-13.3c0.3-0.3,0.6-0.6,1-0.9c1.1-1.7,2.3-3.4,3.4-5.1c9.6-14.4,20.2-28.4,31.4-41.6\r c9.7-11.5,22-20.8,33.3-30.7c18.9-16.5,37.6-33.4,54.1-52.4c3.8-5.6,7.3-11.4,10.5-17.4c4-11.8,7.3-24,10.4-36\r c3.2-12.5,5.9-25.1,8.1-37.8C491.5,169.7,492.1,155.7,491.9,141.7z"}),Object(C.jsx)("path",{fill:j,d:"M256,483.5c-7.3,0-14.3-2.6-19.8-7.4C215.5,458,195.6,441,178,426l-0.1-0.1C126.3,382,81.8,344,50.8,306.6\r C16.1,264.8,0,225.2,0,181.9C0,139.8,14.4,101,40.6,72.6C67.1,43.8,103.5,28,143,28c29.6,0,56.6,9.3,80.4,27.8\r c12,9.3,22.9,20.7,32.5,34c9.6-13.3,20.5-24.7,32.5-34C312.4,37.3,339.4,28,369,28c39.5,0,75.9,15.8,102.4,44.6\r C497.6,101,512,139.8,512,181.9c0,43.3-16.1,82.9-50.8,124.7c-31,37.4-75.5,75.4-127.1,119.3c-17.6,15-37.6,32-58.3,50.2\r C270.3,480.9,263.3,483.5,256,483.5z M143,58C112,58,83.4,70.4,62.7,92.9c-21.1,22.9-32.7,54.4-32.7,89c0,36.4,13.5,69,43.9,105.6\r c29.3,35.4,73,72.6,123.5,115.6l0.1,0.1c17.7,15.1,37.7,32.1,58.5,50.3c21-18.3,41-35.3,58.7-50.4c50.5-43.1,94.1-80.2,123.5-115.6\r c30.3-36.6,43.9-69.2,43.9-105.6c0-34.5-11.6-66.1-32.7-89C428.6,70.4,400,58,369,58c-22.8,0-43.7,7.2-62.1,21.5\r c-16.4,12.7-27.9,28.8-34.6,40c-3.5,5.8-9.5,9.2-16.3,9.2s-12.8-3.5-16.3-9.2c-6.7-11.3-18.2-27.3-34.6-40\r C186.7,65.2,165.8,58,143,58z"})]})})})},E=function(e){var t=e.className,c=void 0===t?null:t,a=e.height,s=void 0===a?"14px":a,n=e.width,r=void 0===n?"14px":n;return Object(C.jsx)("div",{className:c,children:Object(C.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 348.333 348.334",fill:"#e2e2e2",children:[Object(C.jsx)("g",{children:Object(C.jsx)("path",{d:"M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85\r c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563\r c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85\r l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554\r L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"})}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{}),Object(C.jsx)("g",{})]})})},T=c(34),F=c.n(T),P=function(e){var t=e.userMessage,c=e.handleSubmit,a=Object(u.useState)(!1),s=Object(i.a)(a,2),n=s[0],r=s[1],j=Object(u.useState)(""),o=Object(i.a)(j,2),l=o[0],d=o[1],h=t.id,b=t.user,m=t.avatar,g=t.created_at,f=t.message;return Object(C.jsx)(C.Fragment,{children:n?Object(C.jsx)("form",{onSubmit:function(e){e.preventDefault(),c({id:h,user:b,avatar:m,created_at:g,message:l}),r(!1)},children:Object(C.jsx)("input",{onChange:function(e){d(e.target.value)},className:F.a.input,type:"text",value:l})}):Object(C.jsx)("p",{onClick:function(){r(!0)},className:F.a.message,children:f})})},A=function(){var e=Object(u.useRef)(null),t=Object(j.b)(),c=Object(j.c)(s.getMessages),n=Object(j.c)(r.getUser),i=function(e){t(a.changeMessage(e))};return Object(u.useEffect)((function(){!function(e){var t=e.current.scrollHeight;e.current.scrollTo({top:t,behavior:"smooth"})}(e)})),Object(u.useEffect)((function(){t(a.getMessages())}),[t]),Object(C.jsx)("div",{className:F.a.section,children:Object(C.jsx)(N,{children:Object(C.jsx)("ul",{ref:e,className:F.a.list,children:c.map((function(e){var c=e.id,s=e.user,r=e.avatar,u=e.created_at,j=e.message;return n===s?Object(C.jsxs)("li",{className:F.a.itemCurrent,children:[Object(C.jsx)("img",{className:F.a.image,src:r,alt:"".concat(s,"'s avatar")}),Object(C.jsxs)("div",{className:F.a.textContent,children:[Object(C.jsx)("h6",{className:F.a.name,children:s}),Object(C.jsx)(P,{userMessage:{id:c,user:s,avatar:r,created_at:u,message:j},handleSubmit:i}),Object(C.jsx)("p",{className:F.a.time,children:u}),Object(C.jsx)("div",{onClick:function(){return t(a.deleteMessage(c))},children:Object(C.jsx)(E,{className:F.a.delete})})]})]},c):Object(C.jsxs)("li",{className:F.a.item,children:[Object(C.jsx)("img",{className:F.a.image,src:r,alt:"".concat(s,"'s avatar")}),Object(C.jsxs)("div",{className:F.a.textContent,children:[Object(C.jsx)("h6",{className:F.a.name,children:s}),Object(C.jsx)("p",{className:F.a.message,children:j}),Object(C.jsx)("p",{className:F.a.time,children:u}),Object(C.jsx)(B,{className:F.a.heart})]})]},c)}))})})})},Y=c(43),z=c.n(Y),J=function(){var e=Object(j.b)(),t=Object(u.useState)(""),c=Object(i.a)(t,2),s=c[0],r=c[1],o=Object(u.useState)(null),l=Object(i.a)(o,2),d=l[0],h=l[1],b=function(){r("")};return Object(u.useEffect)((function(){var e=prompt("Enter your name","Anonymous");h(e)}),[]),Object(u.useEffect)((function(){e(n.currentUser(d))}),[e,d]),Object(C.jsx)("div",{className:z.a.section,children:Object(C.jsxs)("form",{className:z.a.form,onSubmit:function(t){t.preventDefault(),""!==s&&(e(a.addMessage({message:s,user:d})),b())},children:[Object(C.jsx)("input",{className:z.a.input,type:"text",value:s,onChange:function(e){r(e.target.value)},placeholder:"Type something..."}),Object(C.jsx)("button",{className:z.a.button,type:"submit",children:"Send"})]})})},R=c(44),K=c.n(R),U=function(){return Object(C.jsxs)("div",{className:K.a.section,children:[Object(C.jsxs)("ul",{className:K.a.list,children:[Object(C.jsx)("li",{className:K.a.item,children:"Home"}),Object(C.jsx)("li",{className:K.a.item,children:"Contact us"}),Object(C.jsx)("li",{className:K.a.item,children:"About"})]}),Object(C.jsx)("div",{className:K.a.copyright,children:"@ Copyright 2019"})]})},Z=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(M,{}),Object(C.jsx)(A,{}),Object(C.jsx)(J,{}),Object(C.jsx)(U,{})]})};t.default=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(Z,{})})}}}]);
//# sourceMappingURL=3.ab9b8ff3.chunk.js.map